<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping List</title>
    
    <!-- PWA -->
    <link rel="manifest" href="./manifest.json">
    <meta name="theme-color" content="#78dc77">
    
    <!-- BeerCSS -->
    <link href="https://cdn.jsdelivr.net/npm/beercss@3.13.3/dist/cdn/beer.min.css" rel="stylesheet">
    <script type="module" src="https://cdn.jsdelivr.net/npm/beercss@3.13.3/dist/cdn/beer.min.js"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/material-dynamic-colors@1.1.2/dist/cdn/material-dynamic-colors.min.js"></script>

    <!-- Meta -->
    <link rel="icon" type="image/png" href="./assets/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="./assets/favicon.svg" />
    <link rel="shortcut icon" href="./assets/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/apple-touch-icon.png" />
    
    <!-- Custom -->
    <link href="./css/style.css" rel="stylesheet">
    <script type="module" src="./js/app.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js');
        }
    </script>
</head>
<body class="dark">
    
    <!-- Top App Bar -->
    <header class="surface-container" style="position: sticky; top: 0; z-index: 12;">
        <nav>
            <button class="circle transparent">
              <img class="responsive" src="./assets/apple-touch-icon.png">
            </button>
            <h6 class="max">Shopping List</h6>
            <button class="circle transparent" data-ui="#dialog-settings">
                <i>settings</i>
            </button>
        </nav>
    </header>

    <main class="responsive">
        
        <!-- Search & Filter -->
        <div class="padding">
            <div class="row no-wrap middle-align">
                <div class="field round prefix suffix surface-container max">
                    <i>search</i>
                    <input type="text" id="search-input" placeholder="Search items...">
                    <a id="search-clear" style="visibility: hidden;"><i>close</i></a>
                </div>
                <button class="circle transparent margin-left" id="btn-toggle-done">
                    <i>filter_alt_off</i>
                </button>
            </div>
            
            <div id="filter-row" class="row scroll no-wrap small-space top-margin">
                <!-- Chips injected by JS -->
                <button class="chip fill">All</button>
            </div>
        </div>

        <!-- List -->
        <ul id="app-list" class="list border">
            <li class="padding center-align">Loading...</li>
        </ul>

    </main>

    <!-- FAB Add Button -->
    <button class="fixed bottom right extra margin primary square round" data-ui="#dialog-add">
        <i>add</i>
    </button>

    <!-- Add Item Dialog -->
    <dialog id="dialog-add" class="max">
        <h5>Add Item</h5>
        <div class="field label border">
            <input type="text" id="inp-new-title">
            <label>Item Name (add #tags)</label>
        </div>
        <nav class="right-align">
            <button class="transparent border" data-ui="#dialog-add">Cancel</button>
            <button class="primary" id="btn-add-item">Add</button>
        </nav>
    </dialog>

    <!-- Edit Item Dialog -->
    <dialog id="dialog-edit" class="max">
        <h5>Edit Item</h5>
        <div class="field label border">
            <input type="text" id="inp-edit-title">
            <label>Item Name (add #tags)</label>
        </div>
        <nav class="right-align">
            <button class="transparent border" data-ui="#dialog-edit">Cancel</button>
            <button class="primary" id="btn-save-edit">Save</button>
        </nav>
    </dialog>

    <!-- Settings Dialog -->
    <dialog id="dialog-settings" class="max">
        <h5>Connection Settings</h5>
        <p class="small-text">Connect to your NoCoDB Table.</p>
        
        <div class="field label border">
            <input type="text" id="inp-url">
            <label>Table API URL</label>
        </div>
        <div class="field label border">
            <input type="password" id="inp-token">
            <label>API Token</label>
        </div>
        
        <nav class="right-align">
            <button class="primary" id="btn-save-settings">Save & Connect</button>
        </nav>
    </dialog>

</body>
</html>
